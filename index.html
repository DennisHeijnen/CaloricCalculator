<!DOCTYPE html>
<html>
<head>
	<title>CaloricCalculator</title>
</head>
<body>

	
	<select id="sex" name="sex">
		<option id="male" value="Male">Male</option>
		<option id="female" value="Female">Female</option>
	</select>

	<label for="bodyWeight">Weight:</label>
    <input type="text" id="bodyWeight"/>

    <label for="fatPercentage">Fat percentage:</label>
    <input type="text" id="fatPercentage"/>

    <label for="thermicEffectFood">TEF:</label>
    <select id="thermicEffectFood" name="thermicEffectFood">
		<option id="ten" value="ten">10%</option>
		<option id="fifteen" value="fifteen">15%</option>
		<option id="twenty" value="twenty">20%</option>
		<option id="twentyfive" value="twentyfive">25%</option>
	</select>

	<label for="physicalActivityLevel">Activity level:</label>
    <select id="physicalActivityLevel" name="physicalActivityLevel">
		<option id="one" value="one">Sedentair</option>
		<option id="two" value="two">Beetje actief</option>
		<option id="three" value="three">Actief</option>
		<option id="four" value="four">Zeer actief</option>
	</select>


	<label for="trainingDays">Training days:</label>
    <input type="text" id="trainingDays"/><br>

    <label for="trainingTime">Minutes per training:</label>
    <input type="text" id="trainingTime">

    <label for="experienceLevel">Experience level:</label>
    <select id="experienceLevel" name="experienceLevel">
		<option id="beginner" value="beginner">Beginner</option>
		<option id="intermediate" value="intermediate">Intermediate</option>
		<option id="advanced" value="advanced">Advanced</option>
	</select>

    <button onclick="caloricCalculator()">Submit</button><br>

	<span id="maintenanceLevel"></span><br>
	<span id="proteinIntakeMaintenance"></span><br>
	<span id="carbohydrateIntakeMaintenance"></span><br>
	<span id="fatIntakeMaintenance"></span><br>
	<span id="cutCaloricIntake"></span><br>
	<span id="proteinIntakeCut"></span><br>
	<span id="carbohydrateIntakeCut"></span><br>
	<span id="fatIntakeCut"></span><br>
	<span id="bulkCaloricIntake"></span><br>
	<span id="proteinIntakeBulk"></span><br>
	<span id="carbohydrateIntakeBulk"></span><br>
	<span id="fatIntakeBulk"></span><br>
	

	<script>
		function caloricCalculator() {
			//Define input variables
			var sexObj = document.getElementById('sex').value;
			var bodyWeightObj = document.getElementById('bodyWeight').value;
			var fatPercentageObj = document.getElementById('fatPercentage').value;
			var thermicEffectFoodObj = document.getElementById('thermicEffectFood').value;
			var physicalActivityLevelObj = document.getElementById('physicalActivityLevel').value;
			var trainingDaysObj = document.getElementById('trainingDays').value;
			var trainingTimeObj = document.getElementById('trainingTime').value;
			var experienceLevelObj = document.getElementById('experienceLevel').value;

			//Define caloric intake variables
			var maintenanceLevelObj = document.getElementById('maintenanceLevel');
			var cutCaloricIntakeObj = document.getElementById('cutCaloricIntake');
			var bulkCaloricIntakeObj = document.getElementById('bulkCaloricIntake');

			//Define macro variables
			var proteinIntakeMaintenanceObj = document.getElementById('proteinIntakeMaintenance');
			var carbohydrateIntakeMaintenanceObj = document.getElementById('carbohydrateIntakeMaintenance');
			var fatIntakeMaintenanceObj = document.getElementById('fatIntakeMaintenance');
			var proteinIntakeCutObj = document.getElementById('proteinIntakeCut');
			var carbohydrateIntakeCutObj = document.getElementById('carbohydrateIntakeCut');
			var fatIntakeCutObj = document.getElementById('fatIntakeCut');
			var proteinIntakeBulkObj = document.getElementById('proteinIntakeBulk');
			var carbohydrateIntakeBulkObj = document.getElementById('carbohydrateIntakeBulk');
			var fatIntakeBulkObj = document.getElementById('fatIntakeBulk');

			//Error handling
			if(isNaN(bodyWeightObj) || isNaN(fatPercentageObj) || isNaN(trainingDaysObj || trainingDaysObj < 0 || trainingDaysObj > 7 || fatPercentageObj > 100 || fatPercentageObj < 0 || bodyWeightObj < 1)) {
		        alert('Invalid input');
		        return;
		    };

		    //Calculate BMR
			var fatFreeMass = bodyWeightObj * (1 - fatPercentageObj / 100);
			var katchMcArdleBMR = 370 + (21.6 * fatFreeMass);

			//Assign PAL score
			var physicalActivityLevelScore = 0;
			if (sexObj == "Male") {
				if (physicalActivityLevelObj == "one") {
					physicalActivityLevelScore = 1;
				}
				if (physicalActivityLevelObj == "two") {
					physicalActivityLevelScore = 1.11;
				}
				if (physicalActivityLevelObj == "three") {
					physicalActivityLevelScore = 1.25;
				}
				if (physicalActivityLevelObj == "four") {
					physicalActivityLevelScore = 1.48;
				}
			}
			if (sexObj == "Female") {
				if (physicalActivityLevelObj == "one") {
					physicalActivityLevelScore = 1;
				}
				if (physicalActivityLevelObj == "two") {
					physicalActivityLevelScore = 1.12;
				}
				if (physicalActivityLevelObj == "three") {
					physicalActivityLevelScore = 1.27;
				}
				if (physicalActivityLevelObj == "four") {
					physicalActivityLevelScore = 1.45;
				}
			}

			//Assign TEF score
			var thermicEffectFoodScore = 0;
			if (thermicEffectFoodObj == "ten") {
				thermicEffectFoodScore = 1.1;
			}
			if (thermicEffectFoodObj == "fifteen") {
				thermicEffectFoodScore = 1.15;
			}
			if (thermicEffectFoodObj == "twenty") {
				thermicEffectFoodScore = 1.2;
			}
			if (thermicEffectFoodObj == "twentyfive") {
				thermicEffectFoodScore = 1.25;
			}

			//Calculate caloric maintenance intake
			var trainingDaysREE = (katchMcArdleBMR * physicalActivityLevelScore + (0.1 * bodyWeightObj * trainingTimeObj)) * thermicEffectFoodScore;

			var restdayREE = katchMcArdleBMR * physicalActivityLevelScore * thermicEffectFoodScore;

			var caloricEE = Math.round((trainingDaysObj / 7) * trainingDaysREE + ((7 - trainingDaysObj) / 7) * restdayREE);

			//Calculate caloric cut intake
			//TODO
			//return cutCaloricIntakeScore

			//Calculate caloric bulk intake
			//TODO
			//return bulkCaloricIntakeScore

			//Print caloric maintenance intake
			maintenanceLevelObj.innerHTML = 'Maintenance: ' + caloricEE;

			//Print caloric cut intake
			if (sexObj == 'Male' && fatPercentageObj <= 9 || sexObj == 'Female' && fatPercentageObj <= 14) {
				cutCaloricIntakeObj.innerHTML = 'Cut: between '+ Math.round(0.925 * caloricEE) + ' and ' + Math.round(0.975 * caloricEE);
			}
			if (sexObj == 'Male' && fatPercentageObj > 9 && fatPercentageObj < 15 || sexObj == 'Female' && fatPercentageObj > 13 && fatPercentageObj < 24) {
				cutCaloricIntakeObj.innerHTML = 'Cut: between '+ Math.round(0.8 * caloricEE) + ' and ' + Math.round(0.95 * caloricEE);
			}
			if (sexObj == 'Male' && fatPercentageObj > 14 && fatPercentageObj < 21 || sexObj == 'Female' && fatPercentageObj > 23 && fatPercentageObj < 33) {
				cutCaloricIntakeObj.innerHTML = 'Cut: between '+ Math.round(0.6 * caloricEE) + ' and ' + Math.round(0.8 * caloricEE);
			}
			if (sexObj == 'Male' && fatPercentageObj > 20 && fatPercentageObj < 26 || sexObj == 'Female' && fatPercentageObj > 32 && fatPercentageObj < 39) {
				cutCaloricIntakeObj.innerHTML = 'Cut: between '+ Math.round(0.5 * caloricEE) + ' and ' + Math.round(0.7 * caloricEE);
			}
			if (sexObj == 'Male' && fatPercentageObj > 26 || sexObj == 'Female' && fatPercentageObj > 39) {
				cutCaloricIntakeObj.innerHTML = 'Cut: As less as possible';
			}

			//Print caloric bulk intake
			if (sexObj == 'Male' && fatPercentageObj < 18 || sexObj == 'Female' && fatPercentageObj < 29) {
				if (experienceLevelObj == 'beginner') {
					bulkCaloricIntakeObj.innerHTML = 'Bulk: between ' + Math.round(1.05 * caloricEE) + ' and ' + Math.round(1.15 * caloricEE);
				}
				if (experienceLevelObj == 'intermediate') {
					bulkCaloricIntakeObj.innerHTML = 'Bulk: between ' + Math.round(1.02 * caloricEE) + ' and ' + Math.round(1.07 * caloricEE);
				}
				if (experienceLevelObj == 'advanced') {
					bulkCaloricIntakeObj.innerHTML = 'Bulk: between ' + Math.round(1.01 * caloricEE) + ' and ' + Math.round(1.03 * caloricEE);
				}
			}

			//Calculate maintenance macro's
			proteinIntakeScoreMaintenance = 1.8 * bodyWeightObj;
			if (sexObj == 'Male') {
				fatIntakeScoreMaintenance = ((0.3 * caloricEE) / 9);
			} else {
				fatIntakeScoreMaintenance = ((0.4 * caloricEE) / 9);
			}
			carbohydrateIntakeScoreMaintenance = (caloricEE - proteinIntakeScoreMaintenance * 4 - fatIntakeScoreMaintenance * 9) / 4;

			//Calculate cut macro's
			proteinIntakeScoreCut = 1.8 * bodyWeightObj;
			if (sexObj == 'Male') {
				fatIntakeScoreCut = ((0.3 * cutCaloricIntakeScore) / 9);
			} else {
				fatIntakeScoreCut = ((0.4 * cutCaloricIntakeScore) / 9);
			}
			carbohydrateIntakeScoreCut = (cutCaloricIntakeScore - proteinIntakeScoreCut * 4 - fatIntakeScoreCut * 9) / 4;

			//Calculate bulk macro's
			proteinIntakeScoreBulk = 1.8 * bodyWeightObj;
			if (sexObj == 'Male') {
				fatIntakeScoreBulk = ((0.3 * bulkCaloricIntakeScore) / 9);
			} else {
				fatIntakeScoreBulk = ((0.4 * bulkCaloricIntakeScore) / 9);
			}
			carbohydrateIntakeScoreBulk = (bulkCaloricIntakeScore - proteinIntakeScoreBulk * 4 - fatIntakeScoreBulk * 9) / 4;

			//Print maintenance macro's
			proteinIntakeMaintenanceObj.innerHTML = 'Protein: ' + Math.round(proteinIntakeScoreMaintenance) + ' gram';
			fatIntakeMaintenanceObj.innerHTML = 'Fat: ' + Math.round(fatIntakeScoreMaintenance) + ' gram';
			carbohydrateIntakeMaintenanceObj.innerHTML = 'Carbohydrates: ' + Math.round(carbohydrateIntakeScoreMaintenance)  + ' gram';

			//Print cut macro's
			proteinIntakeCutObj.innerHTML = 'Protein: ' + Math.round(proteinIntakeScoreCut) + ' gram';
			fatIntakeCutObj.innerHTML = 'Fat: ' + Math.round(fatIntakeScoreCut) + ' gram';
			carbohydrateIntakeCutObj.innerHTML = 'Carbohydrates: ' + Math.round(carbohydrateIntakeScoreCut)  + ' gram';

			//Print bulk macro's
			proteinIntakeBulkObj.innerHTML = 'Protein: ' + Math.round(proteinIntakeScoreBulk) + ' gram';
			fatIntakeBulkObj.innerHTML = 'Fat: ' + Math.round(fatIntakeScoreBulk) + ' gram';
			carbohydrateIntakeBulkObj.innerHTML = 'Carbohydrates: ' + Math.round(carbohydrateIntakeScoreBulk)  + ' gram';
		}
	</script>
</body>
</html>